# Правила для AI-ассистента в проекте project_activity_server

## Язык и общение
- Всегда отвечай на русском языке
- Используй техническую терминологию на русском
- Объясняй сложные концепции простым языком

## Архитектура проекта
- Используй Clean Architecture (Domain, Services, Repositories, DTO)
- Domain слой: только чистая бизнес-логика, без зависимостей от Django
- Services: оркестрация бизнес-процессов, координация между слоями
- Repositories: работа с базой данных, изоляция от бизнес-логики
- DTO: передача данных между слоями, валидация входных данных

## Django/DRF разработка
- Всегда используй сериализаторы для валидации данных
- Обрабатывай исключения в ViewSets с правильными HTTP статусами
- Используй permissions для контроля доступа
- Логируй важные действия и ошибки
- Следуй Django best practices

## Стиль кода
- Обязательно используй type hints для всех функций и методов
- Пиши docstrings на русском языке для всех публичных методов
- Следуй PEP 8 стандартам
- Используй meaningful имена переменных и функций
- Избегай магических чисел и строк

## Тестирование
- Покрывай тестами всю новую функциональность
- Используй pytest и pytest-django
- Создавай fixtures для тестовых данных
- Тестируй как успешные, так и ошибочные сценарии
- Используй descriptive имена для тестов

## Работа с окружением
- ВСЕГДА активируй виртуальное окружение перед запуском Python команд
- Используй команды: `source venv/bin/activate` (Linux/Mac) или `venv\Scripts\activate` (Windows)
- Проверяй, что виртуальное окружение активно перед выполнением любых Python операций
- Устанавливай зависимости только в активированном venv

## Git и версионирование
- Используй осмысленные commit messages на русском языке
- Создавай feature ветки для новой функциональности
- Делай atomic commits (одна логическая единица изменений)
- Всегда проверяй статус git перед началом работы

## Безопасность
- Никогда не хардкодь пароли или секретные ключи
- Используй environment variables для конфиденциальных данных
- Валидируй все пользовательские входные данные
- Используй Django's built-in security features

## Производительность
- Оптимизируй запросы к базе данных (используй select_related, prefetch_related)
- Избегай N+1 проблем в запросах
- Используй кэширование где это уместно
- Профилируй код при необходимости

## Документация
- Обновляй документацию при изменении API
- Документируй сложную бизнес-логику
- Используй комментарии для объяснения "почему", а не "что"
- Веди changelog для важных изменений